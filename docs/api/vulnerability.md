# Vulnerability detection API

## Available algorithms

The following algorithms are available for vulnerability analysis:

|Algorithm name|
|---|
|DUCC|
|Brute|
|FPIV|

The Brute algorithm is fast but it cannot scale to large number of attributes.
The DUCC algorithm is slower but can scale to a very large number of attributes.

## Initialization

DUCC can be initialized via the following constructor:

```java
public DUCC(final int nThread, final Strategy strategy, int kValue);
```

where `nThread` is the number of parallel threads we want, `strategy` can be either `DUCC.Strategy.DESCENDING`, `DUCC.Strategy.RECURSIVE` or `DUCC.Strategy.WSYNC` and `kValue` is the uniqueness threshold. 

The Brute algorithms is initialized via:

```java
public Brute(int kValue);
```

where kValue` is the uniqueness threshold. 


## Detecting vulnerabilities on a CSV dataset

This example shows how to perform vulnerability analysis on a CSV dataset. We set the uniqueness threshold to 2, which means that any combination of columns that contains values that appear less than 2 times will be reported as a vulnerability.

```java
import com.ibm.research.drl.dpt.IPVAlgorithm;
import com.ibm.research.drl.dpt.datasets.IPVDataset;
import com.ibm.research.drl.dpt.vulnerability.IPVVulnerability;
import java.io.File;
import java.io.FileInputStream;
import java.util.Collection;
com.ibm.research.drl.dpt.vulnerability.ducc.*;

public void printVulnerabilities(String filename) throws Exception {
		  //we load the dataset from a file
        IPVDataset dataset = IPVDataset.load(new FileInputStream(new File(filename)));

        int k = 2; //uniqueness threshold
        int numberOfThreads = 1; //number of threads

		 //we initialize the vulnerability detection algorithm and invoke it on the dataset
        IPVAlgorithm algorithm = new DUCC(1, DUCC.Strategy.DESCENDING, k);
        Collection<IPVVulnerability> vulnerabilities = algorithm.apply(dataset);

        for (IPVVulnerability vulnerability : vulnerabilities) {
            System.out.println(vulnerability);
        }
}
```
An example output is 
```json
[0,1]
```
that means that the combination of column 0 and 1 (zero-based indexing) is vulnerable to the provided privacy model.
Note that columns which belong to set of combination that violate the privacy requirements are candidate to be selected as quasi identifiers.
Single column set, on the other hand, are potential candidates for being defined as direct identifiers.