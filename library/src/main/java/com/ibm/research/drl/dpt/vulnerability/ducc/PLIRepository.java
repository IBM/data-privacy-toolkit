/*******************************************************************
 *                                                                 *
 * Copyright IBM Corp. 2015                                        *
 *                                                                 *
 *******************************************************************/
package com.ibm.research.drl.dpt.vulnerability.ducc;

import com.ibm.research.drl.dpt.generators.ItemSet;

import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.List;

public class PLIRepository extends HashMap<Integer, Collection<RowIDSet>> {
    /**
     * Gets all.
     *
     * @param itemSet the item set
     * @return the all
     */
    public List<Collection<RowIDSet>> getAll(ItemSet itemSet) {
        List<Collection<RowIDSet>> idSets = new ArrayList<>(itemSet.size());

        for (Integer attribute : itemSet.getItems()) {
            if (containsKey(attribute)) {
                idSets.add(get(attribute));
            } else {
                throw new IllegalArgumentException("ItemSet is " + itemSet + " is not valid because of attribute " + attribute);
            }
        }

        return idSets;
    }

    /**
     * Gets attribute names.
     *
     * @return the attribute names
     */
    public List<Integer> getAttributeNames() {
        return new ArrayList<>(keySet());
    }
}
